{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\projekty\\\\ecommerce\\\\front\\\\components\\\\RegisterForm\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport Input from \"@material-ui/core/Input\";\nimport { FormLabel, Button, Checkbox } from \"@material-ui/core\";\nimport Link from \"next/link\";\nimport Alert from \"../Alert/index\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nvar Wrapper = styled.div.withConfig({\n  displayName: \"RegisterForm__Wrapper\",\n  componentId: \"sc-1ngtmd-0\"\n})([\"display:flex;align-items:center;flex-direction:column;justify-content:space-between;min-width:35vw;max-width:500px;padding:10px;color:white;box-shadow:2px 2px 8px 0 rgb(0 0 0 / 60%);background-color:rgba(0,0,0,0.3);\"]);\n_c = Wrapper;\nvar Form = styled.form.withConfig({\n  displayName: \"RegisterForm__Form\",\n  componentId: \"sc-1ngtmd-1\"\n})([\"display:flex;width:100%;height:100%;flex-direction:column;justify-content:space-between;align-items:center;color:white;& > .MuiButton-containedSecondary{margin:15px;background-color:#b73d1cbf;&:hover{background-color:#ff3600bf;}}& > .MuiFormLabel-root{color:white;}& > .hidden{display:none;}& > label > .MuiIconButton-colorPrimary{color:#ff3600bf !important;}\"]);\n_c2 = Form;\nvar LoginDiv = styled.div.withConfig({\n  displayName: \"RegisterForm__LoginDiv\",\n  componentId: \"sc-1ngtmd-2\"\n})([\"text-align:center;margin:5px 0;transition:0.3s ease-in-out;position:relative;&:before{bottom:0;width:100%;background-color:white;content:\\\"\\\";position:absolute;transition:border-bottom-color 200ms cubic-bezier(0.4,0,0.2,1) 0ms;border-bottom:1px solid rgba(0,0,0,0.5);pointer-events:none;}&:hover::before{border-bottom:1px solid white;}\"]);\n_c3 = LoginDiv;\nvar ErrorSpan = styled.span.withConfig({\n  displayName: \"RegisterForm__ErrorSpan\",\n  componentId: \"sc-1ngtmd-3\"\n})([\"color:#ff5a5a;font-size:12px;& > a{cursor:pointer;}\"]);\n_c4 = ErrorSpan;\nvar Header = styled.h2.withConfig({\n  displayName: \"RegisterForm__Header\",\n  componentId: \"sc-1ngtmd-4\"\n})([\"display:flex;font-weight:700;\"]);\n_c5 = Header;\nvar InputElement = styled(Input).withConfig({\n  displayName: \"RegisterForm__InputElement\",\n  componentId: \"sc-1ngtmd-5\"\n})([\"margin:8px 0;color:white;& > .MuiInputBase-input{color:white;}\"]);\n_c6 = InputElement;\nvar CheckBox = styled(FormLabel).withConfig({\n  displayName: \"RegisterForm__CheckBox\",\n  componentId: \"sc-1ngtmd-6\"\n})([\"display:flex;align-items:center;justify-content:center;flex-direction:column;margin:15px 0;& > .MuiCheckbox-root{color:#b73d1cbf;}& > .MuiCheckbox-colorSecondary.Mui-checked{color:#b73d1cbf;}\"]);\n_c7 = CheckBox;\nvar defaultValues = {\n  firstName: null,\n  lastName: null,\n  email: null,\n  password: null,\n  avatar: null,\n  policy: null\n};\n\nvar RegisterForm = function RegisterForm() {\n  _s();\n\n  var _useForm = useForm({\n    defaultValues: defaultValues\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors,\n      setError = _useForm.setError,\n      reset = _useForm.reset;\n\n  var _useState = useState(null),\n      responseType = _useState[0],\n      setResponseType = _useState[1];\n\n  var registerUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, event) {\n      var firstName, lastName, email, password, avatar, policy, user, send, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              firstName = data.firstName, lastName = data.lastName, email = data.email, password = data.password, avatar = data.avatar, policy = data.policy;\n              user = new FormData();\n              user.append(\"firstName\", firstName);\n              user.append(\"lastName\", lastName);\n              user.append(\"email\", email);\n              user.append(\"password\", password);\n              user.append(\"avatar\", avatar[0]);\n              user.append(\"policy\", policy);\n              _context.prev = 9;\n              _context.next = 12;\n              return fetch(\"http://localhost:8080/signUp\", {\n                method: \"POST\",\n                body: user\n              });\n\n            case 12:\n              send = _context.sent;\n              _context.next = 15;\n              return send.json();\n\n            case 15:\n              response = _context.sent;\n              console.log(response);\n\n              if (response.user) {\n                setResponseType(response.user);\n              } else if (response.message) {\n                setResponseType(response.message);\n              }\n\n              _context.next = 23;\n              break;\n\n            case 20:\n              _context.prev = 20;\n              _context.t0 = _context[\"catch\"](9);\n              console.log(_context.t0);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[9, 20]]);\n    }));\n\n    return function registerUser(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: \"Create an account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit(registerUser),\n      encType: \"\",\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"text\",\n          name: \"firstName\",\n          placeholder: \"First Name\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: function onChange() {\n            setError(\"firstName\", {\n              type: \"manual\",\n              message: \"You have to provide a first name\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, _this), errors.firstName && errors.firstName.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a first name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"text\",\n          name: \"lastName\",\n          placeholder: \"Last Name\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: function onChange() {\n            setError(\"lastName\", {\n              type: \"manual\",\n              message: \"You have to provide a last name\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, _this), errors.lastName && errors.lastName.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a last name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"Enter email\",\n          inputRef: register({\n            required: true,\n            pattern: {\n              value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n              message: \"invalid email address\"\n            }\n          }),\n          onChange: function onChange() {\n            setError(\"email\", {\n              type: \"manual\",\n              message: \"You have to a email\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, _this), errors.email && errors.email.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, _this), errors.email && errors.email.type === \"pattern\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a correct email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Enter Password\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: function onChange() {\n            setError(\"password\", {\n              type: \"manual\",\n              message: \"You have to provide a password\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, _this), errors.password && errors.password.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register({\n          required: true\n        }),\n        name: \"avatar\",\n        type: \"file\",\n        accept: \".png, .jpg, .jpeg\",\n        id: \"avatar\",\n        className: \"hidden\",\n        onChange: function onChange(e) {\n          setError(\"avatar\", {\n            type: \"manual\",\n            message: \"You have to provide an avatar\"\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"avatar\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          \"aria-label\": \"upload picture\",\n          component: \"span\",\n          children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, _this), errors.avatar && errors.avatar.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide an avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(CheckBox, {\n        children: [\" \", \"You have to accept our\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/privacy\",\n          children: /*#__PURE__*/_jsxDEV(ErrorSpan, {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Checkbox, {\n          name: \"policy\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: function onChange() {\n            setError(\"policy\", {\n              type: \"manual\",\n              message: \"You have accept our privacy policy \"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, _this), errors.policy && errors.policy.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n          children: \"Please accept our privacy policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"secondary\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(LoginDiv, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/auth/login\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          children: \"Or switch to sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, _this), responseType && responseType.user && /*#__PURE__*/_jsxDEV(Alert, {\n      message: \"User succesfully created\",\n      shouldOpen: true,\n      variant: \"success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, _this) || responseType && responseType.message && /*#__PURE__*/_jsxDEV(Alert, {\n      message: responseType.message,\n      shouldOpen: true,\n      variant: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(RegisterForm, \"mJUUbHIGc/XJMj+vjYWN5OsfeUc=\", false, function () {\n  return [useForm];\n});\n\n_c8 = RegisterForm;\nexport default RegisterForm;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"LoginDiv\");\n$RefreshReg$(_c4, \"ErrorSpan\");\n$RefreshReg$(_c5, \"Header\");\n$RefreshReg$(_c6, \"InputElement\");\n$RefreshReg$(_c7, \"CheckBox\");\n$RefreshReg$(_c8, \"RegisterForm\");","map":{"version":3,"sources":["D:/projekty/ecommerce/front/components/RegisterForm/index.js"],"names":["React","useState","styled","useForm","Input","FormLabel","Button","Checkbox","Link","Alert","IconButton","PhotoCamera","Wrapper","div","Form","form","LoginDiv","ErrorSpan","span","Header","h2","InputElement","CheckBox","defaultValues","firstName","lastName","email","password","avatar","policy","RegisterForm","register","handleSubmit","errors","setError","reset","responseType","setResponseType","registerUser","data","event","preventDefault","user","FormData","append","fetch","method","body","send","json","response","console","log","message","required","type","pattern","value","e"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport { FormLabel, Button, Checkbox } from \"@material-ui/core\";\r\nimport Link from \"next/link\";\r\nimport Alert from \"../Alert/index\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  min-width: 35vw;\r\n  max-width: 500px;\r\n  padding: 10px;\r\n  color: white;\r\n  box-shadow: 2px 2px 8px 0 rgb(0 0 0 / 60%);\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: white;\r\n\r\n  & > .MuiButton-containedSecondary {\r\n    margin: 15px;\r\n    background-color: #b73d1cbf;\r\n\r\n    &:hover {\r\n      background-color: #ff3600bf;\r\n    }\r\n  }\r\n\r\n  & > .MuiFormLabel-root {\r\n    color: white;\r\n  }\r\n\r\n  & > .hidden {\r\n    display: none;\r\n  }\r\n\r\n  & > label > .MuiIconButton-colorPrimary {\r\n    color: #ff3600bf !important;\r\n  }\r\n`;\r\n\r\nconst LoginDiv = styled.div`\r\n  text-align: center;\r\n  margin: 5px 0;\r\n  transition: 0.3s ease-in-out;\r\n  position: relative;\r\n\r\n  &:before {\r\n    bottom: 0;\r\n    width: 100%;\r\n    background-color: white;\r\n    content: \"\";\r\n    position: absolute;\r\n    transition: border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.5);\r\n    pointer-events: none;\r\n  }\r\n\r\n  &:hover::before {\r\n    border-bottom: 1px solid white;\r\n  }\r\n`;\r\n\r\nconst ErrorSpan = styled.span`\r\n  color: #ff5a5a;\r\n  font-size: 12px;\r\n\r\n  & > a {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Header = styled.h2`\r\n  display: flex;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst InputElement = styled(Input)`\r\n  margin: 8px 0;\r\n  color: white;\r\n\r\n  & > .MuiInputBase-input {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst CheckBox = styled(FormLabel)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  margin: 15px 0;\r\n\r\n  & > .MuiCheckbox-root {\r\n    color: #b73d1cbf;\r\n  }\r\n\r\n  & > .MuiCheckbox-colorSecondary.Mui-checked {\r\n    color: #b73d1cbf;\r\n  }\r\n`;\r\n\r\nconst defaultValues = {\r\n  firstName: null,\r\n  lastName: null,\r\n  email: null,\r\n  password: null,\r\n  avatar: null,\r\n  policy: null,\r\n};\r\n\r\nconst RegisterForm = () => {\r\n  const { register, handleSubmit, errors, setError, reset } = useForm({\r\n    defaultValues,\r\n  });\r\n\r\n  const [responseType, setResponseType] = useState(null);\r\n\r\n  const registerUser = async (data, event) => {\r\n    event.preventDefault();\r\n    const { firstName, lastName, email, password, avatar, policy } = data;\r\n\r\n    const user = new FormData();\r\n    user.append(\"firstName\", firstName);\r\n    user.append(\"lastName\", lastName);\r\n    user.append(\"email\", email);\r\n    user.append(\"password\", password);\r\n    user.append(\"avatar\", avatar[0]);\r\n    user.append(\"policy\", policy);\r\n\r\n    try {\r\n      const send = await fetch(\"http://localhost:8080/signUp\", {\r\n        method: \"POST\",\r\n        body: user,\r\n      });\r\n      const response = await send.json();\r\n      console.log(response);\r\n      if (response.user) {\r\n        setResponseType(response.user);\r\n      } else if (response.message) {\r\n        setResponseType(response.message);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header>Create an account</Header>\r\n\r\n      <Form onSubmit={handleSubmit(registerUser)} encType=''>\r\n        <FormLabel>\r\n          <InputElement\r\n            type='text'\r\n            name='firstName'\r\n            placeholder='First Name'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"firstName\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a first name\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.firstName && errors.firstName.type === \"required\" && (\r\n          <ErrorSpan>Please provide a first name</ErrorSpan>\r\n        )}\r\n        <FormLabel>\r\n          <InputElement\r\n            type='text'\r\n            name='lastName'\r\n            placeholder='Last Name'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"lastName\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a last name\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.lastName && errors.lastName.type === \"required\" && (\r\n          <ErrorSpan>Please provide a last name</ErrorSpan>\r\n        )}\r\n        <FormLabel>\r\n          <InputElement\r\n            type='text'\r\n            name='email'\r\n            placeholder='Enter email'\r\n            inputRef={register({\r\n              required: true,\r\n              pattern: {\r\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                message: \"invalid email address\",\r\n              },\r\n            })}\r\n            onChange={() => {\r\n              setError(\"email\", {\r\n                type: \"manual\",\r\n                message: \"You have to a email\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.email && errors.email.type === \"required\" && (\r\n          <ErrorSpan>Please provide a email</ErrorSpan>\r\n        )}\r\n        {errors.email && errors.email.type === \"pattern\" && (\r\n          <ErrorSpan>Please provide a correct email</ErrorSpan>\r\n        )}\r\n        <FormLabel>\r\n          <InputElement\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter Password'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"password\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a password\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.password && errors.password.type === \"required\" && (\r\n          <ErrorSpan>Please provide a password</ErrorSpan>\r\n        )}\r\n        <input\r\n          ref={register({ required: true })}\r\n          name='avatar'\r\n          type='file'\r\n          accept='.png, .jpg, .jpeg'\r\n          id='avatar'\r\n          className='hidden'\r\n          onChange={(e) => {\r\n            setError(\"avatar\", {\r\n              type: \"manual\",\r\n              message: \"You have to provide an avatar\",\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor='avatar'>\r\n          <IconButton\r\n            color='primary'\r\n            aria-label='upload picture'\r\n            component='span'\r\n          >\r\n            <PhotoCamera />\r\n          </IconButton>\r\n        </label>\r\n        {errors.avatar && errors.avatar.type === \"required\" && (\r\n          <ErrorSpan>Please provide an avatar</ErrorSpan>\r\n        )}\r\n        <CheckBox>\r\n          {\" \"}\r\n          You have to accept our{\" \"}\r\n          <Link href='/privacy'>\r\n            <ErrorSpan>\r\n              <a>Privacy Policy</a>\r\n            </ErrorSpan>\r\n          </Link>\r\n          <Checkbox\r\n            name='policy'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"policy\", {\r\n                type: \"manual\",\r\n                message: \"You have accept our privacy policy \",\r\n              });\r\n            }}\r\n          />\r\n          {errors.policy && errors.policy.type === \"required\" && (\r\n            <ErrorSpan>Please accept our privacy policy</ErrorSpan>\r\n          )}\r\n        </CheckBox>\r\n        <Button type='submit' variant='contained' color='secondary'>\r\n          Create\r\n        </Button>\r\n      </Form>\r\n      <LoginDiv>\r\n        <Link href='/auth/login'>\r\n          <a>Or switch to sign in</a>\r\n        </Link>\r\n      </LoginDiv>\r\n      {responseType && responseType.user && (\r\n        <Alert\r\n          message='User succesfully created'\r\n          shouldOpen={true}\r\n          variant='success'\r\n        />\r\n      ) ||\r\n        (responseType && responseType.message && (\r\n          <Alert\r\n           \r\n            message={responseType.message}\r\n          \r\n             shouldOpen={true}\r\n          \r\n             variant='error'\r\n         \r\n          />\r\n        ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n"]},"metadata":{},"sourceType":"module"}