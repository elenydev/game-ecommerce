{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\projekty\\\\ecommerce\\\\front\\\\components\\\\AddProductForm\\\\index.js\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport Input from \"@material-ui/core/Input\";\nimport { FormLabel, Button, Checkbox } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nconst Form = styled.form.withConfig({\n  displayName: \"AddProductForm__Form\",\n  componentId: \"sc-108fhvp-0\"\n})([\"display:flex;width:100%;height:100%;flex-direction:column;justify-content:space-between;align-items:center;color:white;& > .MuiButton-containedSecondary{margin:15px;background-color:#b73d1cbf;&:hover{background-color:#ff3600bf;}}& > .MuiFormLabel-root{color:white;}& > .hidden{display:none;}& > label > .MuiIconButton-colorPrimary{color:#ff3600bf !important;}& > .MuiInputBase-root{color:white !important;&::placeholder{color:white;}}\"]);\nconst ErrorSpan = styled.span.withConfig({\n  displayName: \"AddProductForm__ErrorSpan\",\n  componentId: \"sc-108fhvp-1\"\n})([\"color:#ff5a5a;font-size:12px;& > a{cursor:pointer;}\"]);\nconst Header = styled.h2.withConfig({\n  displayName: \"AddProductForm__Header\",\n  componentId: \"sc-108fhvp-2\"\n})([\"display:flex;font-weight:700;width:100%;padding:10px;justify-content:center;color:rgb(255 90 90 /60%);\"]);\nconst InputElement = styled(Input).withConfig({\n  displayName: \"AddProductForm__InputElement\",\n  componentId: \"sc-108fhvp-3\"\n})([\"margin:8px 0;color:white;& > .MuiInputBase-input{color:white;}\"]);\nconst SelectBox = styled.div.withConfig({\n  displayName: \"AddProductForm__SelectBox\",\n  componentId: \"sc-108fhvp-4\"\n})([\".MuiInputBase-root{color:rgba(255,255,255,0.5);}\"]);\nconst defaultValues = {\n  productName: null,\n  productDescription: null,\n  gameType: \"War\",\n  prize: null,\n  amount: null,\n  productImage: null\n};\n\nconst AddProductForm = () => {\n  const {\n    register,\n    handleSubmit,\n    errors,\n    setError,\n    reset\n  } = useForm({\n    defaultValues\n  });\n  const {\n    0: responseType,\n    1: setResponseType\n  } = useState(null);\n  const {\n    0: gameType,\n    1: setGameType\n  } = useState(\"War\");\n\n  const clearAlert = () => setTimeout(() => setResponseType(null), 999);\n\n  const handleChange = event => {\n    setGameType(event.target.value);\n  };\n\n  const registerProduct = async (data, event) => {\n    event.preventDefault();\n    const {\n      productName,\n      productDescription,\n      gameType,\n      prize,\n      amount,\n      productImage\n    } = data;\n    const user = new FormData();\n    user.append(\"productName\", productName);\n    user.append(\"productDescription\", productDescription);\n    user.append(\"gameType\", gameType);\n    user.append(\"prize\", prize);\n    user.append(\"amount\", amount);\n    user.append(\"productImage\", productImage[0]);\n\n    try {\n      const send = await fetch(\"http://localhost:8080/addProduct\", {\n        method: \"POST\",\n        body: user\n      });\n      const response = await send.json();\n\n      if (response) {\n        setResponseType(response);\n\n        if (response.product) {\n          reset();\n        }\n      }\n    } catch (err) {\n      setResponseType({\n        message: \"Some error occured, try again\"\n      });\n    }\n\n    clearAlert();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: \"Add product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit(registerProduct),\n      encType: \"\",\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"text\",\n          name: \"productName\",\n          placeholder: \"Product Name\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: () => {\n            setError(\"productName\", {\n              type: \"manual\",\n              message: \"You have to provide a product name\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), errors.productName && errors.productName.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a product name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"text\",\n          name: \"productDescription\",\n          placeholder: \"Product Description\",\n          inputRef: register({\n            required: true\n          }),\n          onChange: () => {\n            setError(\"productDescription\", {\n              type: \"manual\",\n              message: \"You have to provide a product description\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), errors.productDescription && errors.productDescription.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a product description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(SelectBox, {\n          children: /*#__PURE__*/_jsxDEV(Controller, {\n            as: /*#__PURE__*/_jsxDEV(Select, {\n              value: gameType,\n              onChange: e => {\n                setError(\"gameType\", {\n                  type: \"manual\",\n                  message: \"You have to select a game type\"\n                });\n                handleChange(e);\n              },\n              name: \"gameType\",\n              inputRef: register({\n                required: true\n              }),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Wargame\",\n                children: \"Wargame\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Racing\",\n                children: \"Racing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"MMO\",\n                children: \"MMO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"RPG\",\n                children: \"RPG\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"RP\",\n                children: \"RP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Simulation\",\n                children: \"Simulation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Strategy\",\n                children: \"Strategy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Sports\",\n                children: \"Sports\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Survival\",\n                children: \"Survival\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Battle Royale\",\n                children: \"Battle Royale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this),\n            control: control\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), errors.gameType && errors.gameType.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a game type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"number\",\n          name: \"prize\",\n          placeholder: \"Enter prize\",\n          inputRef: register({\n            required: true,\n            min: 1\n          }),\n          onChange: () => {\n            setError(\"prize\", {\n              type: \"manual\",\n              message: \"You have to provide a prize\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), errors.prize && errors.prize.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a prize\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n        children: /*#__PURE__*/_jsxDEV(InputElement, {\n          type: \"number\",\n          name: \"amount\",\n          placeholder: \"Enter amount of products \",\n          inputRef: register({\n            required: true,\n            min: 1\n          }),\n          onChange: () => {\n            setError(\"amount\", {\n              type: \"manual\",\n              message: \"You have to provide amount of products\"\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), errors.amount && errors.amount.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a amount of products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register({\n          required: true\n        }),\n        name: \"productImg\",\n        type: \"file\",\n        accept: \".png, .jpg, .jpeg\",\n        id: \"productImg\",\n        className: \"hidden\",\n        onChange: e => {\n          setError(\"productImg\", {\n            type: \"manual\",\n            message: \"You have to provide an product image\"\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"productImg\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          \"aria-label\": \"upload picture\",\n          component: \"span\",\n          children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), errors.productImg && errors.productImg.type === \"required\" && /*#__PURE__*/_jsxDEV(ErrorSpan, {\n        children: \"Please provide a product image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"secondary\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n\nexport default AddProductForm;","map":{"version":3,"sources":["D:/projekty/ecommerce/front/components/AddProductForm/index.js"],"names":["React","useState","styled","useForm","Input","FormLabel","Button","Checkbox","IconButton","PhotoCamera","Select","MenuItem","Form","form","ErrorSpan","span","Header","h2","InputElement","SelectBox","div","defaultValues","productName","productDescription","gameType","prize","amount","productImage","AddProductForm","register","handleSubmit","errors","setError","reset","responseType","setResponseType","setGameType","clearAlert","setTimeout","handleChange","event","target","value","registerProduct","data","preventDefault","user","FormData","append","send","fetch","method","body","response","json","product","err","message","required","type","e","control","min","productImg"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport { FormLabel, Button, Checkbox } from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: white;\r\n\r\n  & > .MuiButton-containedSecondary {\r\n    margin: 15px;\r\n    background-color: #b73d1cbf;\r\n\r\n    &:hover {\r\n      background-color: #ff3600bf;\r\n    }\r\n  }\r\n\r\n  & > .MuiFormLabel-root {\r\n    color: white;\r\n  }\r\n\r\n  & > .hidden {\r\n    display: none;\r\n  }\r\n\r\n  & > label > .MuiIconButton-colorPrimary {\r\n    color: #ff3600bf !important;\r\n  }\r\n\r\n  & > .MuiInputBase-root {\r\n    color: white !important;\r\n\r\n    &::placeholder {\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ErrorSpan = styled.span`\r\n  color: #ff5a5a;\r\n  font-size: 12px;\r\n\r\n  & > a {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Header = styled.h2`\r\n  display: flex;\r\n  font-weight: 700;\r\n  width: 100%;\r\n  padding: 10px;\r\n  justify-content: center;\r\n  color: rgb(255 90 90 /60%);\r\n`;\r\n\r\nconst InputElement = styled(Input)`\r\n  margin: 8px 0;\r\n  color: white;\r\n\r\n  & > .MuiInputBase-input {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst SelectBox = styled.div`\r\n  .MuiInputBase-root {\r\n    color: rgba(255, 255, 255, 0.5);\r\n  }\r\n`;\r\n\r\nconst defaultValues = {\r\n  productName: null,\r\n  productDescription: null,\r\n  gameType: \"War\",\r\n  prize: null,\r\n  amount: null,\r\n  productImage: null,\r\n};\r\n\r\nconst AddProductForm = () => {\r\n  const { register, handleSubmit, errors, setError, reset } = useForm({\r\n    defaultValues,\r\n  });\r\n\r\n  const [responseType, setResponseType] = useState(null);\r\n  const [gameType, setGameType] = useState(\"War\");\r\n  const clearAlert = () => setTimeout(() => setResponseType(null), 999);\r\n\r\n  const handleChange = (event) => {\r\n    setGameType(event.target.value);\r\n  };\r\n\r\n  const registerProduct = async (data, event) => {\r\n    event.preventDefault();\r\n    const {\r\n      productName,\r\n      productDescription,\r\n      gameType,\r\n      prize,\r\n      amount,\r\n      productImage,\r\n    } = data;\r\n\r\n    const user = new FormData();\r\n    user.append(\"productName\", productName);\r\n    user.append(\"productDescription\", productDescription);\r\n    user.append(\"gameType\", gameType);\r\n    user.append(\"prize\", prize);\r\n    user.append(\"amount\", amount);\r\n    user.append(\"productImage\", productImage[0]);\r\n\r\n    try {\r\n      const send = await fetch(\"http://localhost:8080/addProduct\", {\r\n        method: \"POST\",\r\n        body: user,\r\n      });\r\n      const response = await send.json();\r\n      if (response) {\r\n        setResponseType(response);\r\n        if (response.product) {\r\n          reset();\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setResponseType({ message: \"Some error occured, try again\" });\r\n    }\r\n    clearAlert();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header>Add product</Header>\r\n      <Form onSubmit={handleSubmit(registerProduct)} encType=''>\r\n        <FormLabel>\r\n          <InputElement\r\n            type='text'\r\n            name='productName'\r\n            placeholder='Product Name'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"productName\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a product name\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.productName && errors.productName.type === \"required\" && (\r\n          <ErrorSpan>Please provide a product name</ErrorSpan>\r\n        )}\r\n\r\n        <FormLabel>\r\n          <InputElement\r\n            type='text'\r\n            name='productDescription'\r\n            placeholder='Product Description'\r\n            inputRef={register({ required: true })}\r\n            onChange={() => {\r\n              setError(\"productDescription\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a product description\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.productDescription &&\r\n          errors.productDescription.type === \"required\" && (\r\n            <ErrorSpan>Please provide a product description</ErrorSpan>\r\n          )}\r\n\r\n        <FormLabel>\r\n          <SelectBox>\r\n            <Controller\r\n              as={\r\n                <Select\r\n                  value={gameType}\r\n                  onChange={(e) => {\r\n                    setError(\"gameType\", {\r\n                      type: \"manual\",\r\n                      message: \"You have to select a game type\",\r\n                    });\r\n                    handleChange(e);\r\n                  }}\r\n                  name='gameType'\r\n                  inputRef={register({ required: true })}\r\n                >\r\n                  <MenuItem value='Wargame'>Wargame</MenuItem>\r\n                  <MenuItem value='Racing'>Racing</MenuItem>\r\n                  <MenuItem value='MMO'>MMO</MenuItem>\r\n                  <MenuItem value='RPG'>RPG</MenuItem>\r\n                  <MenuItem value='RP'>RP</MenuItem>\r\n                  <MenuItem value='Simulation'>Simulation</MenuItem>\r\n                  <MenuItem value='Strategy'>Strategy</MenuItem>\r\n                  <MenuItem value='Sports'>Sports</MenuItem>\r\n                  <MenuItem value='Survival'>Survival</MenuItem>\r\n                  <MenuItem value='Battle Royale'>Battle Royale</MenuItem>\r\n                </Select>\r\n              }\r\n              control={control}\r\n            />\r\n          </SelectBox>\r\n        </FormLabel>\r\n        {errors.gameType && errors.gameType.type === \"required\" && (\r\n          <ErrorSpan>Please provide a game type</ErrorSpan>\r\n        )}\r\n\r\n        <FormLabel>\r\n          <InputElement\r\n            type='number'\r\n            name='prize'\r\n            placeholder='Enter prize'\r\n            inputRef={register({ required: true, min: 1 })}\r\n            onChange={() => {\r\n              setError(\"prize\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide a prize\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.prize && errors.prize.type === \"required\" && (\r\n          <ErrorSpan>Please provide a prize</ErrorSpan>\r\n        )}\r\n\r\n        <FormLabel>\r\n          <InputElement\r\n            type='number'\r\n            name='amount'\r\n            placeholder='Enter amount of products '\r\n            inputRef={register({ required: true, min: 1 })}\r\n            onChange={() => {\r\n              setError(\"amount\", {\r\n                type: \"manual\",\r\n                message: \"You have to provide amount of products\",\r\n              });\r\n            }}\r\n          />\r\n        </FormLabel>\r\n        {errors.amount && errors.amount.type === \"required\" && (\r\n          <ErrorSpan>Please provide a amount of products</ErrorSpan>\r\n        )}\r\n\r\n        <input\r\n          ref={register({ required: true })}\r\n          name='productImg'\r\n          type='file'\r\n          accept='.png, .jpg, .jpeg'\r\n          id='productImg'\r\n          className='hidden'\r\n          onChange={(e) => {\r\n            setError(\"productImg\", {\r\n              type: \"manual\",\r\n              message: \"You have to provide an product image\",\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor='productImg'>\r\n          <IconButton\r\n            color='primary'\r\n            aria-label='upload picture'\r\n            component='span'\r\n          >\r\n            <PhotoCamera />\r\n          </IconButton>\r\n        </label>\r\n        {errors.productImg && errors.productImg.type === \"required\" && (\r\n          <ErrorSpan>Please provide a product image</ErrorSpan>\r\n        )}\r\n\r\n        <Button type='submit' variant='contained' color='secondary'>\r\n          Create\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProductForm;\r\n"]},"metadata":{},"sourceType":"module"}